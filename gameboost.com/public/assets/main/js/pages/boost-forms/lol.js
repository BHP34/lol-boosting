var form=$('#lol_boost_form');var type=$('input[name="type"]').val();var form_id=$('input[name="form_id"]').val();var champions_roles_field=$('input:checkbox[name="champions_roles"]');var start_tier,start_division,end_tier,end_division,champions_roles,queue_type,is_priority,is_streaming,is_solo_only,is_bonus_win,start_lp,server,discount_code,start_tier_txt,start_division_txt,end_tier_txt,end_division_txt,start_lp_full,end_lp_full,is_duo,matches,start_level,end_level,start_tokens;$("input[name='start_lp_full'], input[name='end_lp_full'] ").TouchSpin({min:0,max:1500,stepinterval:50,step:1,postfix:'LP',maxboostedstep:300,});$('input[name="matches"]').rangeslider({polyfill:false});const champions_popover=bootstrap.Popover.getOrCreateInstance('#champions_roles_wrapper');if(form_id!=18){var champions_roles_md=bootstrap.Modal.getOrCreateInstance(document.getElementById('champions-roles-md'));$('#champions-roles-md').appendTo("form")
var champions_select=new SlimSelect({select:'#champions',placeholder:'No champions selected',closeOnSelect:false,onChange:(data)=>{load_variables();}})
$(champions_roles_field).on('change',function(){if($(this).is(':checked')){champions_roles_md.show();}else{champions_select.set([]);roles.each(function(){$(this).prop('checked',false);});}});}
if(form_id==2){$('.champions-badge').text('FREE');$('.champions-badge').attr('class','champions-badge badge bg-pale-green text-green rounded');}
function load_variables(){queue_type=$('input:radio[name="queue_type"]:checked').val();start_tier=parseInt($('input:radio[name="start_tier"]:checked').val());start_tier_txt=convert_tier(start_tier);start_lp_full=parseInt($('input[name="start_lp_full"]').val());end_lp_full=parseInt($('input[name="end_lp_full"]').val());start_division=parseInt($('input:radio[name="start_division"]:checked').val());start_division_txt=convert_division(start_division);end_tier=parseInt($('input:radio[name="end_tier"]:checked').val());end_tier_txt=convert_tier(end_tier);end_division=parseInt($('input:radio[name="end_division"]:checked').val());end_division_txt=convert_division(end_division);matches=$('input[name="matches"]').val();start_level=$('select[name="start_level"]').val();end_level=$('select[name="end_level"]').val();start_tokens=$('select[name="start_tokens"]').val();if(form_id!=18){champions_roles=champions_roles_field.filter('input:checked').val();champions=champions_select.selected();}
is_priority=$('input:checkbox[name="is_priority"]:checked').val();is_streaming=$('input:checkbox[name="is_streaming"]:checked').val();is_solo_only=$('input:checkbox[name="is_solo_only"]:checked').val();is_bonus_win=$('input:checkbox[name="is_bonus_win"]:checked').val();is_duo=$('input:checkbox[name="is_duo"]:checked').val();start_lp=$('select[name="start_lp"]').val();server=$('select[name="server"]').val();roles=$('input:checkbox[name="roles[]"]:checked');discount_code=$('input[name="discount_code"]').val();if(form_id>2&&form_id!=18){duo_change();}
if(form_id==2&&queue_type=='flex'){$("#current-master").removeAttr('disabled');end_rank_change();}else if(form_id==2&&queue_type!='flex'){$("#current-master").attr('disabled','disabled');if(start_tier>=7){$("input:radio[name='start_tier']:checked").prop("checked",false);$("#current-diamond").prop("checked",true);start_tier=6;start_tier_txt='diamond';}
start_rank_change();end_rank_change();}
if(start_tier==7&&(form_id==1||(form_id==2&&queue_type=='flex'))){if(end_lp_full===0||$('input[name="end_lp_full"]').length==0){$('input[name="end_lp_full"]').val(start_lp_full+50);}else if(end_lp_full<start_lp_full+50){start_lp_full=end_lp_full-50;if(start_lp_full<0){start_lp_full=0;end_lp_full=50;$('input[name="start_lp_full"]').val(start_lp_full).trigger('change');$('input[name="end_lp_full"]').val(end_lp_full).trigger('change');}else{$('input[name="start_lp_full"]').val(start_lp_full).trigger('change');}}}
update_pricing();}
$('select[name="start_level"], select[name="end_level"]').on('change',function(){load_variables();mastery_level_change();});function mastery_level_change(){if(parseInt($('select[name="start_level"]').val())<5){$('select[name="start_tokens"]').val(0);$('select[name="start_tokens"] option[value="1"]').attr('disabled',true);$('select[name="start_tokens"] option[value="2"]').attr('disabled',true);}else if(parseInt($('select[name="start_level"]').val())==5){$('select[name="start_tokens"] option[value="1"]').attr('disabled',false);$('select[name="start_tokens"] option[value="2"]').attr('disabled',true);$('select[name="start_tokens"]').val(0);}else{$('select[name="start_tokens"] option[value="1"]').attr('disabled',false);$('select[name="start_tokens"] option[value="2"]').attr('disabled',false);}
$("#sum_start_rank_img").attr('src',asset_url+'/global/games/lol/mastery/'+start_level+'.png');$('#sum_start_rank').text('Mastery '+start_level);$("#sum_end_rank_img").attr('src',asset_url+'/global/games/lol/mastery/'+end_level+'.png');$('#sum_end_rank').text('Mastery '+end_level);}
$('input[name="start_lp_full"], input[name="end_lp_full"]').on('change',function(){if($(this).val()==''){$(this).val(0).trigger('change');}
if($(this).attr('name')==='start_lp_full'){start_lp_full=parseInt($(this).val());end_lp_full=parseInt($('input[name="end_lp_full"]').val());if(end_lp_full<start_lp_full+50){$('input[name="end_lp_full"]').val(start_lp_full+50).trigger('change');}}
if($(this).attr('name')==='end_lp_full'){start_lp_full=parseInt($('input[name="start_lp_full"]').val());end_lp_full=parseInt($(this).val());}
if(form_id==1||(form_id==2&&queue_type=='flex')){if(start_tier==7){$('#sum_start_rank').text(start_tier_txt+' '+start_lp_full+' LP');}
if(end_tier==7){$('#sum_end_rank').text(end_tier_txt+' '+end_lp_full+' LP');}}});$('input:radio, input:checkbox, select').on('change',function(){load_variables()});let timeout;$("input:text, :input[type='number']").on('keyup change',function(){clearTimeout(timeout)
timeout=setTimeout(function(){load_variables();},500)});$('input:radio[name="start_tier"], input:radio[name="start_division"]').on('change',function(){start_rank_change();});$('input:radio[name="end_tier"], input:radio[name="end_division"]').on('change',function(){end_rank_change();});$('input[name="matches"]').on('change',function(){load_variables();matches_change();});function start_rank_change(){$("#start_rank_img, #sum_start_rank_img").attr('src',asset_url+'/global/games/lol/ranks/full/'+start_tier+'.png');$('#sum_start_rank').text(start_tier_txt+' '+start_division_txt);$('#start_card').removeClass().addClass("card card-border-start border-"+start_tier_txt);if(start_tier>=7||start_tier==0){$('select[name="start_lp"]').parent().parent().hide();$('#start_lp_full').show();$('select[name="lp_gain"]').parent().parent().show();$('#start_divisions').hide();if(form_id==1||(form_id==2&&queue_type=='flex')){$('#sum_start_rank').text(start_tier_txt+' '+start_lp_full+' LP');$('#start_helper_txt').text('Please select your Current Rank and Current LP.');$('.roles-badge').text('10%');$('.roles-badge').attr('class','roles-badge badge bg-pale-primary text-primary rounded');}else{$('#sum_start_rank').text(start_tier_txt);}}
else{$('select[name="start_lp"]').parent().parent().show();$('#start_lp_full').hide();$('select[name="lp_gain"]').parent().parent().hide();$('#start_divisions').show();$('#sum_start_rank').text(start_tier_txt+' '+start_division_txt);$('#start_helper_txt').text('Please select your Current Rank and Division.');$('.roles-badge').text('FREE');$('.roles-badge').attr('class','roles-badge badge bg-pale-green text-green rounded');}}
function end_rank_change(){$("#end_rank_img, #sum_end_rank_img").attr('src',asset_url+'/global/games/lol/ranks/full/'+end_tier+'.png');if(end_tier>6&&(form_id==1||(form_id==2&&queue_type=='flex'))){$('#end_divisions').hide();$('#end_lp_full').show();$('#sum_end_rank').text(end_tier_txt+' '+end_lp_full+' LP');$('#end_helper_txt').text('Please select your Desired Rank and Desired LP.');}else if(form_id==2&&queue_type=='solo_duo'&&end_tier>6){$('#end_lp_full').hide();$('#end_divisions').hide();$('input[name="end_lp_full"]').val(0).trigger('change');end_lp_full=0;$('#sum_end_rank').text(end_tier_txt+' '+end_lp_full+' LP');$('#end_helper_txt').text('Please select your Desired Rank and Division.');}else if(end_tier>6&&form_id!=1){$('#end_divisions').hide();$('#sum_end_rank').text(end_tier_txt);}else{$('#end_divisions').show();$('#end_lp_full').hide();$('#sum_end_rank').text(end_tier_txt+' '+end_division_txt);$('#end_helper_txt').text('Please select your Desired Rank and Division.');}
$('#end_card').removeClass().addClass("card card-border-start mt-5 border-"+end_tier_txt);}
function matches_change(){$(".games-amount-display").text(matches);}
function duo_change(){if(is_duo){$('.solo_option').addClass('d-none');$('.solo_option').removeClass('d-flex');$('.duo_option').addClass('d-flex');$('.duo_option').removeClass('d-none');$('.solo_option input').each(function(index){$(this).prop("checked",false);});champions_popover.setContent({'.popover-header':'Champions & Roles','.popover-body':'Pick which roles and champions you are going to play with.'})
$('.champions-badge').text('FREE');$('.champions-badge').attr('class','champions-badge badge bg-pale-green text-green rounded');if(form_id==3&&queue_type=='solo_duo'){$("#current-master").attr('disabled','disabled');$("#current-grandmaster").attr('disabled','disabled');$("#current-challenger").attr('disabled','disabled');if(start_tier>=7){$("input:radio[name='start_tier']:checked").prop("checked",false);$("#current-diamond").prop("checked",true);start_tier=6;start_tier_txt='diamond';start_rank_change()}}else{$("#current-master").removeAttr('disabled');$("#current-grandmaster").removeAttr('disabled');$("#current-challenger").removeAttr('disabled');}}else{$('.duo_option').addClass('d-none');$('.duo_option').removeClass('d-flex');$('.duo_option input').each(function(index){$(this).prop("checked",false);});$('.solo_option').addClass('d-flex');$('.solo_option').removeClass('d-none');champions_popover.setContent({'.popover-header':'Champions & Roles','.popover-body':'Pick which roles the booster queues up with. For an additional cost, pick which champions the booster can play.'})
$('.champions-badge').text('10%');$('.champions-badge').attr('class','champions-badge badge bg-pale-primary text-primary rounded');if(form_id==3){$("#current-master").removeAttr('disabled');$("#current-grandmaster").removeAttr('disabled');$("#current-challenger").removeAttr('disabled');}}}
function update_pricing(){form.submit();}
$('#currency-eur, #currency-usd').on('change',function(){load_variables();});$('#discount-img').on('click',function(){$('input[name="discount_code"]').val('Super22').trigger('change');$('html, body').animate({scrollTop:$(".sticky-lg-top").offset().top},1000);});if(form_id==19){var select_package_button=$('.select_package_button');var unselect_package_button=$('.unselect_package_button');select_package_button.on('click',function(){var package_id=$(this).attr('package-id');var package_data=$(this).attr('package-data');package_data=JSON.parse(package_data);$('input[name="start_tier"]').val(package_data.start_tier).trigger('change');$('input[name="start_division"]').val(package_data.start_division).trigger('change');$('input[name="end_tier"]').val(package_data.end_tier).trigger('change');$('input[name="end_division"]').val(package_data.end_division).trigger('change');var package_card=$('#package-'+package_id);$('.package-card').removeClass('selected');$('.package-card').addClass('unselected');package_card.removeClass('unselected');package_card.addClass('selected');$('input[name="package_id"]').val(package_id).trigger('change');});unselect_package_button.on('click',function(){var package_id=$(this).attr('package-id');var package_card=$('#package-'+package_id);package_card.removeClass('selected');$('.package-card').removeClass('unselected');$('input[name="package_id"]').val('').trigger('change');});$('select[name="server"]').on('change',function(){var server=$(this).val();if(server=='euw'||server=='eune'||server=='tr'||server=='ru'){$('.package-card .eu-price').show();$('.package-card .na-price').hide();}else{$('.package-card .eu-price').hide();$('.package-card .na-price').show();}});}
$(document).ready(function(){load_variables();});